linux-next-librem5 (5.15.0~rc4pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.15-rc4

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 04 Oct 2021 12:09:01 +0100

linux-librem5 (5.13.19pureos1) byzantium; urgency=medium

  [ Dorota Czaplejewicz ]
  * [53dcc09] s5k3l6xx: Support staging driver

  [ Sebastian Krzyszkowiak ]
  * [da7abf8] arm64: dts: imx8mq-librem5: set debounce interval of volume buttons to 50ms
  * [2a723ca] librem5_defconfig: Set CONFIG_PANIC_TIMEOUT to reboot immediately

  [ Martin Kepplinger ]
  * [5049689] Revert "Revert "clk: imx: fix composite peripheral flags""
  * [5cbe845] Merge tag 'v5.13.19' into stable/5.13.19

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 28 Sep 2021 13:01:34 +0200

linux-next-librem5 (5.15.0~rc3pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.15-rc3

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 27 Sep 2021 12:10:34 +0100

linux-librem5 (5.13.16pureos1) byzantium; urgency=medium

  [ Sebastian Krzyszkowiak ]
  * [0b8b758] power: supply: max17042_battery: Clear status bits in interrupt handler
  * [3e74739] power: supply: max17042_battery: Prevent int underflow in set_soc_threshold
  * [d5a7641] usb: typec: tipd: Export PRESENT property
  * [b331a7d] power: supply: bq25890_charger: Don't enable OTG on unplugged USB
  * [cebf129] power: supply: max17042_battery: log SOC threshold using debug log level
  * [37dfa30] usb: typec: tipd: Read active PDO on probe
  * [357f153] power: supply: bq25890_charger: Read external power props on probe

  [ Martin Kepplinger ]
  * [157a679] Merge tag 'v5.13.16' into stable/5.13.16

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Wed, 15 Sep 2021 12:47:44 +0200

linux-librem5 (5.13.14pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * [7ad752e] librem5_defconfig: make the USB config more similar to Debian
  * [6d84f92] hi846: fix probe() error paths and minor cleanups
  * [8dbb283] Merge tag 'v5.13.14' into stable/5.13.14

  [ Sebastian Krzyszkowiak ]
  * [b98e893] hack: imx8m-ddrc: Set AHB and MAIN_AXI clocks together with DRAM freq

  [ Dorota Czaplejewicz ]
  * [a1142a2] s5k3l6xx: Propagate errors correctly
  * [afc13a1] s5k3l6xx: Use all 3 regulators

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 07 Sep 2021 08:53:02 +0200

linux-librem5 (5.13.12pureos2) byzantium; urgency=medium

  [ Guido Günther ]
  * [aeb6635] rfkill-hks: Fix comment
  * [7a50478] rfkill-hks: Mark irq and gpio as shared
  * [9538dba] rfkill-hks: Unregister rfkill
  * [94e292c] arm64: dts: librem5: Add camera hks
  * [6738bd2] debian: Add breaks a against phosh that breaks with camera HKS

  [ Martin Kepplinger ]
  * [d8af564] hi846: add support for rotation and orientation controls
  * [a51f883] arm64: dts: imx8mq-librem5: add rotation and orientation to selfie camera
  * [bba2edb] Revert "hack: usb: gadget: g_multi: comment out put_instance during unbind that blocks"
  * [da4171d] librem5_defconfig: remove USB_G_MULTI gadget driver
  * [69be651] d/control: bump required librem5-base-defaults version
  * [bc21ddb] librem5_defconfig: make USB gadget configuration similar to Debian

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Wed, 01 Sep 2021 17:38:04 +0200

linux-librem5 (5.13.12pureos1) byzantium; urgency=medium

  [ Angus Ainslie ]
  * [24536fa] net: wireless: redpine: delay talking to the RS9116 module
  * [e67b418] brcmfmac: add 43752 SDIO ids and initialization
  * [f61ba5d] btbcm: add patch ram for bluetooth

  [ Sebastian Krzyszkowiak ]
  * [69c7a3e] dts: imx8mq-librem5: Fix led_r and led_g pinctrl assignments

  [ Dorota Czaplejewicz ]
  * [0c98c89] s5k3l6xx: Better debug messages for i2c writes
  * [4dbff22] s5k3l6xx: Fail probe on device mismatch
  * [920743d] s5k6l3xx: Copy regulators-related code from hi846
  * [e42b586] s5k3l6xx: Properly forward power off errors

  [ Martin Kepplinger ]
  * [b678125] arm64: dts: imx8mq-librem5: improve camera node names
  * [a8dd00d] Revert "soc debug"
  * [747c1bb] Revert "arm64: dts: imx8mq: remove SoC ID compatible"
  * [bbc3087] Revert "usb: typec: tipd: Don't block probing of consumer of "connector" nodes"
  * [54bfae0] Merge tag 'v5.13.12' into stable/5.13.12

  [ Clayton Craft ]
  * [eeb6e5a] arm64: dts: imx8mq: disable SuperSpeed instances in park mode

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Fri, 27 Aug 2021 12:51:08 +0200

linux-librem5 (5.13.5pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * merge v5.13.5 from upstream

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 02 Aug 2021 09:54:01 +0100

linux-librem5 (5.12.2pureos5) byzantium; urgency=high

  [ Martin Kepplinger ]
  * [6ddfd2e] dt-binding: hi846: improve the example
  * [56ee7cd] arm64: dts: imx8mq-librem5: remove status property
  * [f3cf736] hi846: register order readablility cleanup
  * [18b44f8] hi846: fix regulator usage in power_on()
  * [e6728ab] hi846: define link_freqs entries to be of type u64
  * [ba82d59] hi846: fix checks for available mipi lane configs
  * [fbf7a2e] arm64: dts: imx8mq-librem5: fix camera supplies description
  * [a0a8a8b] Revert "hack: scsi: sd: set expecting_media_change in sd_resume()"
  * [abe54ad] Revert "scsi: add expecting_media_change flag to error path"
  * [f89641f] scsi: devinfo: add new flag BLIST_MEDIA_CHANGE
  * [1df7ac8] scsi: sd: send REQUEST SENSE for BLIST_MEDIA_CHANGE devices in runtime_resume()
  * [3c3afde] scsi: devinfo: add BLIST_MEDIA_CHANGE for Ultra HS-SD/MMC usb cardreaders
  * [219eb69] hi846: minor clock and hw config fixes
  * [19cf4c3] arm64: dts: imx8mq-librem5: hi846 fixes
  * [27ffef0] dt-bindings: media: hi846 fixes

  [ Dorota Czaplejewicz ]
  * [aabf9fc] s5k3l6xx: Filter out focus pixels

  [ Sebastian Krzyszkowiak ]
  * [e635434] s5k3l6xx: Set noise reduction register to 0x0977 for all modes

  [ Elias Rudberg ]
  * [72468c5] usb: typec: Change power status check in tps6598x_interrupt

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Fri, 30 Jul 2021 09:46:55 +0200

linux-next-librem5 (5.13.1pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.13.1

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 12 Jul 2021 18:10:34 +0100

linux-librem5 (5.12.2pureos4) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * [8baf299] hi846: disable lens shading correction
  * [ee55f5c] arm64: dts: imx8mq-librem5: add shared imx8mq-librem5-r3.dtsi
  * [33f835b] dt-bindings: hi846: updates from revision v4 upstream
  * [6bca833] hi846: updates from revision v4 upstream
  * [e5aa8e0] arm64: dts: imx8mq-librem5: selfie cam fixes
  * [1949570] librem5_defconfig: enable hantro media staging driver

  [ Sebastian Krzyszkowiak ]
  * [2cadcd3] s5k3l6xx: Update digital gain control range
  * [365e9de] hi846: Set digital gain range to 1.0x - 15.99x

  [ Guido Günther ]
  * [7504e12] d/control: Add breaks against gst-plugins-bad
  * [379b18a] arm64: config: Enable hantro VPU support

  [ Dorota Czaplejewicz ]
  * [5a19290] s5k3l6xx: Fix noise

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 15 Jun 2021 18:38:06 +0200

linux-librem5 (5.12.2pureos3) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * [eb2050f] hi846: pull in the init regs into the driver file
  * [4058069] hi846: build fixes
  * [a7e766d] hi846: dt-binding syntax fixes
  * [ec93db1] hi846: use do_div() for divisions
  * [8a66782] hi846: use DT property name reset-gpios instead of rst-gpios
  * [6e60349] dt-binding: hi846: reset-gpios property name and minor syntax fixes
  * [a997cee] arm64: dts: imx8mq-librem5: hi846 camera1: reset-gpios property naming

  [ Angus Ainslie ]
  * [5801a4b] arm64: config: librem5: add the marvell wireless drivers
  * [ea6bbd8] arm64: config: librem5: enable the Broadcom Full MAC driver
  * [1cb24c9] arm64: dts: librem5: add power sequencing for M.2 cards
  * [ddf129b] arm64: dts: librem5: Limit the max sdio frequency
  * [cc7f6b0] net: wireless: redpine: can't use BT dual on newer firmwares

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 08 Jun 2021 14:10:49 +0200

linux-librem5 (5.12.2pureos2) byzantium; urgency=medium

  [ Sebastian Krzyszkowiak ]
  * [791a453] s5k3l6xx: Integration time control
  * [a08d4a7] s5k3l6xx: Don't touch integration time in frame regs
  * [7476e8a] s5k3l6xx: Digital gain up to 3x

  [ Martin Kepplinger ]
  * [0b45b04] s5k3l6xx: remove the autosuspend delay
  * [2f76e6e] hi846: power management and locking fixes
  * [629e158] hi846: fix error path in resume()
  * [cc989ac] hi846: fix powering off in remove()
  * [2415165] hi846: improve start_streaming()
  * [e46d161] arm64: dts: imx8mq-librem5: disable the voice coil driver
  * [e5db307] arm64: dts: imx8mq-librem5: enable the voice coil driver
  * [75aca1c] hi846: cleanup gpio handling
  * [24467b3] hi846: cleanup setting digital gain
  * [5168a57] hi846: clean up start_streaming error paths
  * [d165ce8] hi846: remove some debug prints
  * [4568b42] hi846: coding style fixes
  * [02b1947] Documentaion: i2c-cardlist: add the Hynix hi846 sensor
  * [5f66272] dt-bindings: vendor-prefixes: Add SK Hynix Inc.
  * [cfee358] dt-bindings: media: document SK Hynix Hi-846 MIPI CSI-2 8M pixel sensor

  [ Angus Ainslie ]
  * [38cb11e] power: bq25890: add POWER_SUPPLY_PROP_TEMP
  * [8dd33e9] power: bq25890: Display battery charge faults
  * [eda75b2] power: bq25890: Add NTC faults

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 25 May 2021 10:40:07 +0200

linux-librem5 (5.12.2pureos1) byzantium; urgency=medium

  [ Dorota Czaplejewicz ]
  * [12d45da] s5k3l6xx: Fix suspend/resume returns
  * [f68237d] s5k3l6xx: Remove unnecessary debug prints
  * [42f20e8] mx6s: Turn off streaming on release
  * [73d3659] s5k3l6xx: Restore controls before streaming

  [ Sebastian Krzyszkowiak ]
  * [4d72279] hi846: Fix the analog gain register address
  * [f1db4c5] s5k3l6xx: Set minimum analogue_gain value to 0x20
  * [788a03f] s5k3l6xx: Add digital gain control
  * [1a5e208] s5k3l6xx: Don't touch analog gain in frame regs

  [ Angus Ainslie ]
  * [e64ec38] net: wireless: redpine: fix uapsd logic
  * [9a91d8d] librem5_defconfig: enable the DW9417 voice coil driver
  * [8382618] imx8mq-librem5.dtsi: add the voice coil driver
  * [5905a43] media: i2c: dw9714: add regulator support

  [ Martin Kepplinger ]
  * [91cbe22] hi846: fix mutex usage
  * [ce502ef] hi846: remove frame interval callbacks and implement s_power
  * [ec3e068] hi846: implement open() callback for internal ops
  * [eb2f049] hi846: add v4l2_ctrl_subdev_log_status callback to core ops
  * [a5df377] hi846: improve error output with errno values
  * [df9e4f9] hi846: add hi846_regulator_disable()
  * [434a5c9] Merge tag 'v5.12.2' into stable/5.12.2

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 10 May 2021 12:35:12 +0200

linux-librem5 (5.12.1pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.12.1

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 03 May 2021 11:37:37 +0100

linux-next-librem5 (5.12.0pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.12

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 26 Apr 2021 09:16:34 +0100

linux-next-librem5 (5.12.0~rc8pureos2) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * use the old signing subkey the system knows about. no changes.

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Thu, 22 Apr 2021 14:39:01 +0100

linux-next-librem5 (5.12.0~rc8pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.12-rc8

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 19 Apr 2021 15:15:34 +0100

linux-librem5 (5.11.15pureos1) byzantium; urgency=medium

  [ Dorota Czaplejewicz ]
  * [e275912] s5k3l6xx: Partial cleanups

  [ Angus Ainslie ]
  * [75837bd] net: wireless: redpine: try to load from FW flash
  * [41dc510] net: wireless: redpine: print the module fw version
  * [696c704] arm64: configs: librem5 allow FW load from rootfs
  * [88b9aff] net: wireless: redpine: load flash rps file to ram

  [ Martin Kepplinger ]
  * [d054bcb] Revert "usb: dwc3: gadget: Clear DEP flags after stop transfers in ep disable"
  * [263f642] Merge tag 'v5.11.15' into stable/5.11.15

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 19 Apr 2021 15:08:33 +0200

linux-next-librem5 (5.12.0~rc7pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.12-rc7

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 12 Apr 2021 10:56:09 +0100

linux-next-librem5 (5.12.0~rc6pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.12-rc6

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 06 Apr 2021 09:01:45 +0100

linux-librem5 (5.11.11pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * [62b801d] mx6s_capture: cr2: don't set bayer starting point
  * [2c26f23] hi846: cleanup pixelformat and captureparm
  * [ced962f] hi846: clean up getting the current mode
  * [032b219] hi846: clean up test pattern setting
  * [094c98a] hi846: cleanup debug output
  * [54c6d6e] hi846: cleanup chip id log printing
  * [d8b7ee9] hi846: set GBRG Bayer subpixel format
  * [4b51174] s5k3l6xx: avoid printing debug messages to the error logs
  * [a408ad9] Merge tag 'v5.11.11' into stable/5.11.11

  [ Sebastian Krzyszkowiak ]
  * [62e3a08] mx6s_capture: Add other Bayer subpixel order configurations to pixel formats
  * [36d6691] librem5_defconfig: Enable exFAT support
  * [2c6b609] s5k3l6xx: Switch the Bayer colorspace to GRBG

  [ Wesley Cheng ]
  * [7b37a3a] usb: dwc3: gadget: Clear DEP flags after stop transfers in ep disable

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 06 Apr 2021 08:20:45 +0200

linux-next-librem5 (5.12.0~rc5pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.12-rc5

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 29 Mar 2021 10:40:01 +0100

linux-librem5 (5.11.8pureos1) byzantium; urgency=medium

  [ Sebastian Krzyszkowiak ]
  * [9fcc84f] Revert "redpine: Clean up loop in the interrupt handler"
  * [1108550] Revert "redpine: Move card interrupt handling to RX thread"

  [ Martin Kepplinger ]
  * [c0865eb] Revert "mx6s_capture: switch base addr atomically by DMA completed"
  * [ca2fe5f] hi846: cleanup
  * [0ef20b3] hi846: move reg definitions from header to source file
  * [034c507] hi846: add dorotas debug regs interface
  * [85d44f0] hi846: document raw8 setting bit
  * [a96b6f7] hi846: improve exposure / integration time comment
  * [f875daf] hi846: disable 3264 mode for now
  * [dc166c3] arm64: dts: imx8mq-librem5: enable two-8bit-sensor-mode for csi1
  * [689d241] arm64: dts: imx8mq: set csi1 phy clk to 200mhz
  * [a157d9b] Merge tag 'v5.11.8' into stable/5.11.8

  [ Dorota Czaplejewicz ]
  * [042b4b7] s5k3l6xx: Respect lane count
  * [4cb8c66] librem5: use only 2 lanes for CSI2 camera.
  * [4fee411] s5k3l6xx: Add gain control
  * [b6c2831] Librem 5: Boost clocks for CSI2
  * [341e727] mx6s_capture: Fix size setting
  * [be37083] s5k3l6xx: Preserve controls across power ups and downs
  * [0974db0] s5k3l6xx: Introduce an empty debug frame
  * [1f20b7c] s5k3l6xx: Allow accepting whatever size the userspace requests
  * [788b16a] s5k3l6xx: Add debugfs register override interface
  * [ecaf256] mx6s_capture: Add debug switch for selecting baseaddr_switch
  * [f4ddd5f] s5k3l6xx: Add 1:4 scaled mode
  * [5efdacd] s5k3l6xx: Use actual 1:2 mode
  * [0b77889] s5k3l6xx: Use actual 1:1 mode
  * [e71bdc7] s5k3l6xx: Remove separate PLL register setting

  [ Angus Ainslie ]
  * [786ca43] mx6s_capture.c: export all of the controls

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 22 Mar 2021 16:34:49 +0100

linux-next-librem5 (5.12.0~rc4pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.12-rc4

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 22 Mar 2021 07:12:56 +0100

linux-librem5 (5.11.6pureos1) byzantium; urgency=medium

  [ Elias Rudberg ]
  * [51877d8] Remove vdo part of tps6598x_rx_identity_reg struct

  [ Martin Kepplinger ]
  * [c7b208d] Merge tag 'v5.11.6' into stable/5.11.6

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 16 Mar 2021 12:02:49 +0100

linux-next-librem5 (5.12.0~rc3pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.12-rc3

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 16 Mar 2021 09:44:10 +0100

linux-next-librem5 (5.12.0~rc2pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.12-rc2
  * add https://lore.kernel.org/linux-arm-kernel/20210309134251.2583679-1-martin.kepplinger@puri.sm/T/

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Wed, 10 Mar 2021 08:24:10 +0100

linux-librem5 (5.11.4pureos1) byzantium; urgency=medium

  [ Angus Ainslie ]
  * [6f9304a] wireless: redpine: drop the old vendor driver
  * [f603606] wireless: redpine: Import Redpine's 2.0.0.0024 driver
  * [6312d84] wireless: redpine: Add Purism, flash and flash only configs to Kconfig
  * [48052e0] arm64: config: librem5: Use the updated Redpine vendor driver
  * [4503d21] wireless: redpine: fix COEX logic
  * [4cbd35d] wireless: redpine: print the firmware version
  * [620fe7d] net: wireless: redpine: lower the power save periods

  [ Marek Vasut ]
  * [73e357c] redpine: Move card interrupt handling to RX thread
  * [d0ce5dd] redpine: Clean up loop in the interrupt handler

  [ Sebastian Krzyszkowiak ]
  * [0f3e2be] Guard defines in rsi_sdio.h
  * [00b1786] d/control: Add Breaks relation to librem5-base-defaults << 36pureos1

  [ Martin Kepplinger ]
  * [5dde086] Merge tag 'v5.11.4' into stable/5.11.4

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 08 Mar 2021 16:35:30 +0100

linux-next-librem5 (5.11.2pureos1) byzantium; urgency=medium

  [ Martin Kepplinger ]
  * [5a67f33] mxc-mipi-csi2_yav: add comments about rxhs_settle
  * [597ad49] hi846: read reg 0x0034 for debugging
  * [35d610c] hi846: add error and debug logs
  * [e72d595] hi846: regs: 4lane: fix 1280 10bit
  * [19bb519] mx6s_capture: debug output fix
  * [37791ac] mx6s_capture: remove debug buffer filling
  * [d29ff59] arm64: dts: imx8mq: csi1 mipi clock rates
  * [6e07cee] mxc-mipi-csi2_yav: fix hs_settle comment
  * [eb2f3d4] hi846: support 2 and 4 lanes and document more regs
  * [cc17a95] Merge tag 'v5.11.2' into stable/5.11.2

  [ Angus Ainslie ]
  * [c438d9b] arm64: dts: librem5: Correct the BT_REG_ON pin
  * [b351509] arm64: dts: librem5: move BT_REG_ON to the correct pin
  * [fe46fea] arm64: dts: librem5: add the WIFI_REG_ON net
  * [e34e9ff] arm64: dts: librem5: make sure WIFI_REG_ON is enabled
  * [5a458cd] arm64: dts: librem5: delay the startup of the SDIO
  * [39ed8bc] arm64: dts: librem5: enable card detect polling

  [ Guido Günther ]
  * [d4c0373] arm64: dts: librem5: Wire up WIFI regulator (Closes: #264)

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Fri, 05 Mar 2021 17:07:49 +0100

linux-next-librem5 (5.11.1pureos1) byzantium; urgency=medium

  [ Dorota Czaplejewicz ]
  * s5k3l6xx updates

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.11.1
  * hi846 / csi updates

  [ Guido Günther ]
  * add rfkill-hks platform driver

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Wed, 24 Feb 2021 11:27:29 +0100

linux-next-librem5 (5.11.0pureos1) byzantium; urgency=medium

  [ Dorota Czaplejewicz ]
  * s5k3l6xx / csi updates

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.11
  * hi846 / csi updates

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 15 Feb 2021 10:12:12 +0100

linux-next-librem5 (5.11.0~rc7pureos1~amber1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree with amber-phone patches onto v5.11-rc7

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 08 Feb 2021 10:37:09 +0100

linux-next-librem5 (5.11.0~rc7pureos1) byzantium; urgency=medium

  [ Angus Ainslie ]
  * usb: typec: tps6598x: mask status update

  [ Dorota Czaplejewicz ]
  * s5k3l6xx driver updates

  [ Guido Günther ]
  * arm64: dts: Drop legacy DTBs

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.11-rc7

  [ Sebastian Krzyszkowiak ]
  * Revert "rtc: m41t80: Clear oscillator fault bit during probe"

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 08 Feb 2021 10:27:09 +0100

linux-librem5 (5.9.16pureos0) byzantium; urgency=medium

  [ Arnaud Ferraris ]
  * [9b86a09] arm64: dts: freescale: imx8mq-librem5: rename main sound card

  [ Martin Kepplinger ]
  * [946b7b2] arm64: dts: imx8mq-librem5: rename the modem sound card
  * [da48598] Merge branch 'imx8-current-librem5' into pureos/byzantium

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 02 Feb 2021 10:04:01 +0100

linux-next-librem5 (5.11.0~rc6+librem5.1) amber-phone; urgency=medium

  [ Angus Ainslie ]
  * arm64: dts: librem5: protect some partitions of the nor-flash

  [ Guido Günther ]
  * arm64: dts: librem5: Add interconnect name for DCSS

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.11-rc6
  * some camera "base" updates

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 01 Feb 2021 10:15:08 +0100

linux-next-librem5 (5.11.0~rc5+librem5.2) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * [b2967a4] Revert "e11232: USDHC: uSDHC setting requirement for IPG_CLK and AHB_BUS clocks"

  [ Sebastian Krzyszkowiak ]
  * [9a2deaa] hack: Revert "mmc: sdhci-esdhc-imx: clear DMA_SEL when disable DMA mode"

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 26 Jan 2021 09:31:57 +0100

linux-next-librem5 (5.11.0~rc5+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.11-rc5

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 25 Jan 2021 12:16:09 +0100

linux-librem5 (5.9.16+librem5.2) amber-phone; urgency=high

  [ Angus Ainslie ]
  * [a2caa72] usb: typec: tps6598x: mask status update
  * [a446b3e] power: bq25890: Adjust IINLIM to input max current
  * [22fe1ce] power: bq25890_charger: add a devicetree option to disable DPDM negotiation
  * [e43beb2] dt-bindings: power: supply: bq25890: Document the auto_dpdm_disable option
  * [686436b] amr64: dts: librem5: disable auto DPDM
  * [b322fa0] usb: typec: tps6589x: set the data role on tps IRQ
  * [9ed4aa9] usb: typec: tps6598x: Add trace event for SINK PD conract
  * [d942e90] usb: typec: tps6598x: Provide POWER_SUPPLY_PROP_{CURRENT,VOLTAGE}_MAX

  [ Guido Günther ]
  * [b42bb27] arm64: dts: librem5: Don't use kill switches as keys
  * [433e5e9] Revert "usb: typec: tps6598x: mask status update"
  * [2d83636] power: bq25890: Disable OTG
  * [f48a4f7] arm64: dts: librem5: Lower boost regulation voltage
  * [906399b] arm64: dts: librem5: Mark charger IRQ as High-Z
  * [1c05e2f] usb: typec: tpc6598x: Rewind to next-20201218
  * [ba9bb1b] usb: typec: tps6598x: Add trace event for IRQ events
  * [f121cde] usb: typec: tps6598x: Add trace event for status register
  * [3478c4c] usb: typec: tps6598x: Add trace event for power status register
  * [206e381] usb: typec: tps6598x: Add trace event for data status
  * [4f5bf5e] usb: typec: tps6598x: Only update power status on IRQ
  * [462a5ac] usb: typec: tps6589x: Handle DP alt mode changes via extcon
  * [db27b48] usb: typec: tps6598x: Add trace event for status register
  * [f30e94b] usb: typec: tps6598x: Add debugfs entries for customer use word

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 19 Jan 2021 09:25:45 +0100

linux-next-librem5 (5.11.0~rc4+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.11-rc4

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 18 Jan 2021 09:16:09 +0100

linux-next-librem5 (5.11.0~rc3+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.11-rc3. changes include:
    * dts changes / fixes:
      * some node/interrupt/pinctrl names that should "not matter"
      * all regulator names are in CAPS
      * ecspi1 cs-gpios set to active low
      * "gpios" not "gpio" in pmic-5v
      * "Move usdhc clocks assignment to board DT"
        https://source.puri.sm/Librem5/linux-next/-/merge_requests/261
    * CONFIG_GPIO_SYSFS is "developer only" and hence disabled
    * removed: 93d21bd32d8d WIP: arm64: dts: imx8mq-librem5: interrupts description (upstream)
    * includes a different mmc timeout workaround:
      https://source.puri.sm/Librem5/linux-next/-/merge_requests/286

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 11 Jan 2021 09:42:43 +0100

linux-librem5 (5.9.16+librem5.1) amber-phone; urgency=medium

  [ Sebastian Krzyszkowiak ]
  * [cb6daab] power: max17042_battery: Fix current_{avg,now} hiding with no current sense
  * [72e810e] power: max17042_battery: Improve accuracy of current_now and current_avg readings
  * [5879af7] power: max17042_battery: Take r_sns value into account in charge_counter
  * [e52d6ce] power: max17042_battery: Export charge termination current property
  * [ddf9445] max17042_battery: Don't allow to set charge_full property
  * [c906ce4] max17042_battery: Trigger model refresh when setting charge_full_design
  * [38c8f4d] XXX: max17042_battery: Move enable_por_init check into max17042_init_chip
  * [2bd7ae7] max17042_battery: Move vchg-4V2 handling to POR initialization
  * [69822af] max17042_battery: Allow to set termination current via device tree
  * [e116f03] max17042_battery: Allow to set battery design capacity via device tree
  * [5661f58] imx8mq-librem5: Set battery parameters for each batch
  * [210fb23] arm64: dts: librem5-r3: Mark buck3 as always on

  [ Martin Kepplinger ]
  * [579432a] Merge tag 'v5.9.16' into stable/5.9.16

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Thu, 07 Jan 2021 13:21:01 +0100

linux-librem5 (5.9.15+librem5.1) amber-phone; urgency=medium

  [ Sebastian Krzyszkowiak ]
  * [0d31dfc] d/control: Add "Provides: wireguard-modules" to kernel package
  * [d94dfe0] librem5_defconfig: Set schedutil cpufreq governor to be the default

  [ Guido Günther ]
  * [ed273b4] regulators: bd718x7: Add enable times
  * [3209ca6] arm64: dts: librem5-devkit: Don't mark buck3 as always on
  * [66d3f24] arm64: dts: librem5: Don't mark buck3 as always on
  * [d9e1e71] gitlab-ci: Use Werror for the cross build
  * [40ccecb] leds: lm3692x: Use lookup table for exponential brightness
  * [c687818] arm64: dts: imx8-librem5-r4: Fix alphabetic ordering
  * [9947592] arm64: dts: imx8mq-librem5-r4: Allow for higher backlight current

  [ Martin Kepplinger ]
  * [b4be99f] media: s5k3l6xx: comment out unused function
  * [1819da1] Merge tag 'v5.9.15' into stable/5.9.15

  [ Marek Vasut ]
  * [4c889ec] rsi: Move card interrupt handling to RX thread
  * [d45793c] rsi: Fix TX EAPOL packet handling against iwlwifi AP
  * [b9bb9ea] redpine: Move card interrupt handling to RX thread

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 21 Dec 2020 14:45:54 +0100

linux-librem5 (5.9.12+librem5.1) amber-phone; urgency=high

  [ Dorota Czaplejewicz ]
  * [1c6b602] s5k3l6: Remove warnings
  * [970befe] mx6s_capture: Remove unused variable
  * [b05dd13] ov5640: Fix mixed code and data

  [ Martin Kepplinger ]
  * [6cce902] media: mxc: mx6s_capture: add irq debugging
  * [750d08b] media: hi846: fix debugging and some driver additions
  * [4b8f133] media: s5k3l6xx: comment out unused function
  * [9999e06] Merge tag 'v5.9.12' into stable/5.9.12

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Wed, 02 Dec 2020 13:28:06 +0100

linux-librem5 (5.9.8+librem5.1) amber-phone; urgency=high

  [ Sebastian Krzyszkowiak ]
  * [0120d40] imx8mq-librem5-r4: Drop workaround for hangs from i2c0
  * [baa7c22] librem5_defconfig: Enable more networking and crypto related options
  * [8c3750c] librem5_defconfig: Enable more dm and fs related options
  * [c6dfab5] librem5_defconfig: Enable more USB related options
  * [f3a1606] librem5_defconfig: Enable SELinux
  * [451fe3e] librem5_defconfig: Enable CONFIG_MODVERSIONS
  * [17cf5ba] power: supply: bq25890: Use the correct range for IILIM register

  [ Martin Kepplinger ]
  * [f5ec677] staging: media: imx: Split config option in 2
  * [d9ea9f5] librem5_defconfig: enable VIDEO_IMX7_CSI
  * [ed1b00e] media: platform: enable the imx8 capture driver
  * [35f8e32] librem5_defconfig: enable IMX8_MIPI_CSI2_YAV and IMX8_JPEG
  * [2424c82] librem5_defconfig: enable the OV5640 camera driver
  * [b0eb67f] arm64: dts: imx8mq-librem5: split pinctrl csi1 and csi2
  * [2138c56] arm64: dts: imx8mq-librem5: add labels to camera nodes
  * [d0cf6aa] arm64: dts: imx8mx-librem5: fix camera2 i2c address
  * [197c208] arm64: dts: imx8mq-librem5-r3: add reg_camera1_pwr_en
  * [c5bea02] arm64: dts: imx8mq-librem5: add reg_camera_pwr_en
  * [d056ab5] arm64: dts: imx8mq-librem5-r4: add reg_camera1_pwr_en
  * [cccf8da] arm64: dts: imx8mq-librem5: add optional cam dts descriptions
  * [ffb833b] hack: media: imx8: mxc-mipi-csi2_yav: disable runtime pm
  * [0b4a993] Merge tag 'v5.9.8' into stable/5.9.8

  [ Guido Günther ]
  * [ec7a640] arm64: dts: imx8mq: Add csi aliases
  * [6b87021] media: imx8: mxc-mipi-csi2_yav: add clko2
  * [3602972] drm: mhdp: Include platform-device.h
  * [af7784b] drm: etnaviv: HACK: Don't try to unmap active objects
  * [2860ae9] drm/imx: dcss: Add interconnect support
  * [b7f1d13] arm64/dts: imx8mq: Add interconnect for DCSS

  [ Angus Ainslie ]
  * [6da6c97] arm64: dts: imx8mq: add the csi devices
  * [8d93a2c] media: platform: imx8: add mipi-csi2 driver
  * [233402e] include: linux: video2dev: add V4L2_PIX_FMT_YUV24 video type
  * [219699d] arm64: dts: imx8mq-librem5-devkit: add the camera
  * [e519065] media: mxc: Drop v4l subdev g_parm modifications
  * [bb584c2] media: imx8: mxc-mipi-csi2_yav: use the correct sub device

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Fri, 13 Nov 2020 08:57:39 +0100

linux-librem5 (5.9.5+librem5.1) amber-phone; urgency=medium

  [ Guido Günther ]
  * [b7b79cc] librem5: Build in lcd backlight helper (Closes: #229)
  * [ebfc304] dt-bindings: vendor-prefixes: Add ys vendor prefix
  * [248580c] drm/panel: mantix: Allow to specify default mode for different panels
  * [6d9728a] drm/panel: mantix: Support panel from Shenzhen Yashi Changhua Intelligent Technology Co
  * [dce9ff3] dt-binding: display: mantix: Add compatible for panel from YS
  * [7414852] arm64: dts: librem5: Add label for the LCD panel
  * [3296a59] arm64: dts: librem5r4: Use concrete panel type

  [ Martin Kepplinger ]
  * [91a92cb] arm64: dts: imx8mq-librem5-r2: set nearlevel to 120
  * [c9a4147] Merge tag 'v5.9.5' into stable/5.9.5

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Thu, 05 Nov 2020 17:03:22 +0100

linux-next-librem5 (5.9.3+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * [6f50b10] arm64: dts: imx8mq: cool using cpufreq at 50 and idle injection at 60 deg
  * [ab67803] arm64: dts: imx8mq: set gpu_alert temp to 65 degrees
  * [e936003] Merge tag 'v5.9.2' into stable/5.9.2
  * [f652069] Merge tag 'v5.9.3' into stable/5.9.3

  [ Guido Günther ]
  * [2b7335a] arm64: dts: Add Librem5 Evergreen
  * [35cf1a7] arm64: dts: Bump near-level
  * [23a007d] drm: etnaviv: Add lockdep annotations for context lock
  * [9e4e864] drm: etnaviv: Unmap gems on gem_close
  * [ae0de8d] drm/panel: mantix: Tweak init sequence (Closes: #226)

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 03 Nov 2020 12:29:20 +0100

linux-next-librem5 (5.9.1+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.9.1

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 19 Oct 2020 10:11:19 +0200

linux-next-librem5 (5.9.0+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.9
  * configure-in LEDS_LM3692X
  * enable HDMI on the devkit by default
    and remove imx8mq-librem5-devkit-dcss-dsi.dts

  [ Guido Günther ]
  * mantix panel fixes:
    drm/panel: mantix: Fix panel reset
    dt-binding: display: Require two resets on mantix panel
    drm/panel: mantix: Don't dereference NULL mode

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 12 Oct 2020 12:24:09 +0200

linux-librem5 (5.7.19+librem5.2) amber-phone; urgency=medium

  [ Lucas Stach ]
  * drm/etnaviv: always start/stop scheduler in timeout processing.
    The drm scheduler currently expects that the stop/start sequence is always
    executed in the timeout handling, as the job at the head of the hardware
    execution list is always removed from the ring mirror before the driver
    function is called and only inserted back into the list when starting the
    scheduler.
    This adds some unnecessary overhead if the timeout handler determines
    that the GPU is still executing jobs normally and just wished to extend
    the timeout, but a better solution requires a major rearchitecture of the
    scheduler, which is not applicable as a fix.
    Fixes: 135517d3565b ("drm/scheduler: Avoid accessing freed bad job.")
    Tested-by: Russell King <rmk+kernel@armlinux.org.uk>
    (cherry picked from commit 50248a3ec0f5e5debd18033eb2a29f0b793a7000)

  [ Guido Günther ]
  * arm64: dts: imx8mq-librem5: Don't prefix I2C address with '0'
    This silences a warning when building dtbs
  * leds: Add driver for LM3560 LED controller.
    The IC supports two leds but there's only one mode at a time (torch,
    flash or privacy indicator mode).
    There's an additional LED output for an inidicator LED which is
    currently not supported.
    TODOs:
     - support two leds
     - support strobe gpio
     - tie into v4l via v4l2_flash
  * librem5: Enable lm3560 LED flash driver
  * arm64: dts: imx8mq-librem5: Enable lm3560 LED.
    This enables torch and flash. We use the chips
    default values as max for the moment. This can
    be tweaked furthers as needed.
    A single pinctrl group is enough and we can drop the regulator
    since it's in fact a GPIO tied directly to the lm3560.
    Maximum led current is derived from experiments on dogwood.

 -- Guido Günther <agx@sigxcpu.org>  Thu, 08 Oct 2020 10:20:18 +0200

linux-next-librem5 (5.9.0~rc8+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.9-rc8

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 05 Oct 2020 11:28:20 +0200

linux-next-librem5 (5.9.0~rc7+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.9-rc7

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 29 Sep 2020 11:07:20 +0200

linux-next-librem5 (5.9.0~rc6+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.9-rc6

  [ Guido Günther ]
  * Initial DP alt mode support

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 21 Sep 2020 09:48:27 +0200

linux-next-librem5 (5.9.0~rc5+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.9-rc5

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 15 Sep 2020 11:36:01 +0200

linux-librem5 (5.7.19+librem5.1) amber-phone; urgency=medium

  [ Sebastian Krzyszkowiak ]
  * [e1d46f5] ASoC: wm8962: Export DAC/ADC monomix switches.
    This allows solutions like ALSA UCM to utilize hardware mono downmix
    for cases where mono output to a single speaker is desired only in
    specific situations (like on a mobile phone).
  * [72407c8] librem5_defconfig: Enable ashmem and binder for anbox support
  * [933c5c6] Merge tag 'v5.7.19' into stable/5.7.19.
    This is the 5.7.19 stable release

  [ Angus Ainslie (Purism) ]
  * [72fee32] arm64: configs: librem5_defconfig: configure the RFCOMM TTY
    device.  We need rfcomm tty for the gts1800 test fixture

  [ Guido Günther ]
  * Backport display subsystem from our 5.9 tree:
    * [1dad5b9] drm/bridge: nwl-dsi: Add support for video_pll.
    * [0630123] dt-bindings: display/bridge: nwl-dsi: Document video_pll clock.
    * [07b0406] drm/bridge: nwl-dsi: Add support for clock-drop-level.
    * [6d6768f] drm/bridge: nwl-dsi: add support for DCSS.
    * [9e90f8b] arm64: dts: imx8mq: Add video_pll to DSI host controller.
    * [eb84570] arm64: dts: librem5-devkit: Set clock drop level.
    * [982ff56] arm64: dts: librem5: Set clock drop level.
    * [68f3fbe] Revert "hack: mxsfb: half the pixel clock"

 -- Guido Günther <agx@sigxcpu.org>  Mon, 14 Sep 2020 09:51:20 +0200

linux-next-librem5 (5.9.0~rc4+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.9-rc4

  [ Guido Günther ]
  * port the whole display stack onto v5.9-rc4

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 08 Sep 2020 12:55:32 +0200

linux-librem5 (5.7.14+librem5.2) amber-phone; urgency=medium

  [ Guido Günther ]
  * drm/mxsfb: Make supported modifiers explicit.
    In contrast to other display controllers on imx like DCSS and ipuv3
    lcdif/mxsfb does not support detiling e.g. vivante tiled layouts.
    Since mesa might assume otherwise make it explicit that only
    DRM_FORMAT_MOD_LINEAR is supported.
    (cherry picked from commit f4b29bf77319df18348b56e9fd87bc7d4266220e)
    This allows us to drop a downstream wlroots patch.
  * arm64: dts: imx8mq-librem5-r2: Sort alphabetically
  * arm64: dts: imx8mq-librem5-r3: Sort alphabetically
  * dt-bindings: iio: vcnl4000: convert bindings to YAML format.
    Convert the vcnl4000 device tree bindings to the new YAML format.
    (cherry picked from commit c194e2389d99be2fc69811693775b81f9ab88f6c)
  * dt-bindings: iio: Introduce common properties for iio sensors.
    Introduce a file for common properties of iio sensors. So far this
    contains the new proximity-near-level property for proximity sensors
    that indicates when an object should be considered near.
    (cherry picked from commit 445b16fb6bdc2cd3086a8d9018b4f325c89faa24)
  * dt-bindings: iio: light: vcnl4000: Add proximity-near-level.
    This value indicates when userspace should consider an object
    near to the sensor/device.
    (cherry picked from commit 138986062b50e7e24404e279d2e2c79c0291dac3)
  * Documentation: ABI: document IIO in_proximity_nearlevel file.
    The vcnl4000 IIO driver introduced a new attribute
    "in_proximity_nearlevel".  This adds it to the list of documented ABI
    for sysfs-bus-iio.
    (cherry picked from commit aa8cb0485594d8b3c9bfe7f4427b3ae26187c861)
  * iio: vcnl4000: Export near level property for proximity sensor.
    When an object can be considered close to the sensor is hardware
    dependent. Allowing to configure the property via device tree
    allows to configure this device specific value.
    This is useful for e.g. iio-sensor-proxy to indicate to userspace
    if an object is close to the sensor.
    (cherry picked from commit f5a98e1fca15cbf79f50098ea30e84ce33da2fd6)
  * arm64: dts: imx8mq-librem5.dtsi: Add alias for proximity sensor
  * arm64: dts: imx8mq-librem5-r3: Set proximity near level.
    This allows userspace to decide when an object is close.
  * arm64: dts: imx8mq-librem5-r2: Set proximity near level.
    This allows userspace to decide when an object is close.

  [ Martin Kepplinger ]
  * arm64: dts: imx8mq-librem5-r3: fix camera_pwr gpio
  * arm64: dts: imx8mq-librem5: camera1: add more useful comment.
    It's obviously a placeholder and disabled, no need to write that down.
  * arm64: dts: imx8mq-librem5: camera2: fix i2c address and add VCM.
    The rear facing camera is at 0x10 on the bus, not 0x2d. Also, descibe
    the voice coil motor we have.

 -- Guido Günther <agx@sigxcpu.org>  Tue, 18 Aug 2020 12:14:44 +0200

linux-librem5 (5.7.14+librem5.1) amber-phone; urgency=high

  [ Martin Kepplinger ]
  * [e6d49ae] Revert "hack: scsi: sd: set expecting_media_change flag in
              sd_resume_runtime()"
  * [c9c0a69] Revert "scsi: core: add expecting_media_change flag"
  * [038a741] hack: scsi: add expecting_media_change flag to fix runtime PM
  * [818e454] Merge tag 'v5.7.14' into stable/5.7.14

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 10 Aug 2020 09:20:08 +0200

linux-next-librem5 (5.8.0+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.8
  * Revert: "arm64: dts: imx8mq-librem5-r3: set i2c1 clk freq to 100khz"
  * add hack for working around error in rmmod g_multi
  * fix the scsi expecting_media_change handling

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Sun, 09 Aug 2020 10:51:56 +0200

linux-librem5 (5.7.12+librem5.2) amber-phone; urgency=medium

  * imx8mq-librem5-r3: Set the CPU voltage to 1.0V when running at 1GHz on Dogwood

 -- Sebastian Krzyszkowiak <sebastian.krzyszkowiak@puri.sm>  Tue, 04 Aug 2020 21:01:54 +0200

linux-librem5 (5.7.12+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * arm64: dts: imx8mq-librem5-r3: remove gpu voltage override
  * Revert "scsi: sd: add runtime pm to open / release"
  * scsi: core: add expecting_media_change flag
  * hack: scsi: sd: set expecting_media_change flag in sd_resume_runtime()
    (fixes runtime suspend/resume while SD card is mounted)
  * merge the v5.7.12 upstream stable release

  [ Sebastian Krzyszkowiak ]
  * Revert "mmc: sdhci-esdhc-imx: clear DMA_SEL when disable DMA mode"
    (works around mmc0 timeouts during boot)

  [ Alan Stern ]
  * block: fix runtime pm

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Sun, 02 Aug 2020 13:13:21 +0200

linux-next-librem5 (5.8.0~rc7+librem5.1) amber-phone; urgency=medium

  [ Angus Ainslie (Purism) ]
  * power: supply: max17042_battery: enable vchg configuration
  * power: supply: bq25890_charger: set CONV_RATE
  * arm64: dts: imx8mq-librem5: set the max17055 charge voltage bit

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.8-rc7
  * arm64: dts: imx8mq-librem5-r3: set i2c1 clk freq to 100khz
  * Revert "librem5: Set gpu voltage back to 1.0V"

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 27 Jul 2020 11:50:23 +0200

linux-librem5 (5.7.10+librem5.1) amber-phone; urgency=medium

  [ Guido Günther ]
  * debian: Simplify release generation
  * librem5: Set gpu voltage back to 1.0V

  [ Martin Kepplinger ]
  * merge the v5.7.10 upstream stable release

  [ Angus Ainslie ]
  * arm64: dts: imx8mq-librem5-r3: enable power control for the 8MP camera
  * arm64: dts: imx8mq-librem5-r3: Connect the SMC_BOOT pin
  * arm64: dts: imx8mq-librem5: fix the boost current
  * power: supply: max17042_battery: enable vchg configuration
  * arm64: dts: imx8mq-librem5: Disable the pull up on CHG_INT
  * power: supply: bq25890_charger: set CONV_RATE
  * arm64: dts: imx8mq-librem5: set the max17055 charge voltage bit
  * arm64: dts: imx8mq-librem5: correct the input pin definitions

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Sat, 25 Jul 2020 09:57:09 +0200

linux-next-librem5 (5.8.0~rc6+librem5.1) amber-phone; urgency=medium

  [ Angus Ainslie (Purism) ]
  * arm64: dts: imx8mq-librem5-r3: enable power control for the 8MP camera
  * arm64: dts: imx8mq-librem5-r3: Connect the SMC_BOOT pin
  * arm64: dts: imx8mq-librem5: fix the boost current
  * arm64: dts: imx8mq-librem5: Disable the pull up on CHG_INT
  * arm64: dts: imx8mq-librem5: correct the input pin definitions

  [ Guido Günther ]
  * drm/mxsfb: Make supported modifiers explicit

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.8-rc6

  [ Sebastian Krzyszkowiak ]
  * librem5_defconfig: Enable ZRAM and ZSWAP

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 21 Jul 2020 17:53:35 +0200

linux-librem5 (5.7.9+librem5.1) amber-phone; urgency=medium

  [ Guido Günther ]
  * arm64: dts: imx8mq-librem5: Use 'compatible' instead of comment
  * arm64: dts: imx8mq-librem5: Add an alias for the charge controller
  * arm64: dts: Make Librem 5 device tree a dtsi
  * arm64: librem5: Make battery settings revision specific
  * arm64: dts: Add a devicetree for Librem 5 Dogwood

  [ Martin Kepplinger ]
  * arm64: dts: librem5: make imu mount matrix revision specific
  * merge the v5.7.9 upstream stable release

  [ Guido Günther ]
  * librem5: Disable DRIVER_DEBUG (Closes: #205)

  [ Sebastian Krzyszkowiak ]
  * gitlab-ci: Update dtb artifacs paths

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 21 Jul 2020 15:04:27 +0200

linux-next-librem5 (5.8.0~rc5+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.8-rc5

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 13 Jul 2020 09:06:01 +0200

linux-librem5 (5.7.8+librem5.1) amber-phone; urgency=medium

  [ Angus Ainslie (Purism) ]
  * rsi_91x_mgmt.c: quiet down the redpine driver
  * usb: gadget: u_serial: flush the delayed work queue instead of cancelling

  [ Guido Günther ]
  * arm64: dts: imx8mq-librem5: Bump initial backlight brightness

  [ Martin Kepplinger ]
  * merge the v5.7.8 upstream stable release

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Thu, 09 Jul 2020 12:03:18 +0200

linux-next-librem5 (5.8.0~rc4+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.8-rc4

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 06 Jul 2020 08:39:54 +0200

linux-librem5 (5.7.7+librem5.1) amber-phone; urgency=medium

  [ Sebastian Krzyszkowiak ]
  * edt-ft5x06: Empty all slots when unable to fetch data

  [ Martin Kepplinger ]
  * arm64: dts: imx8mq-librem5: add hard wired USB2642 to description
  * merge the v5.7.7 upstream stable release

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Wed, 01 Jul 2020 21:12:16 +0200

linux-next-librem5 (5.8.0~rc3+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.8-rc3

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 29 Jun 2020 08:16:24 +0200

linux-librem5 (5.7.5+librem5.2) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * scripts: builddeb: only check if BUILD_LIBC_PKG is set
  * scsi: sd: add runtime pm to open / release

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 23 Jun 2020 20:31:53 +0200

linux-next-librem5 (5.8.0~rc2+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.8-rc2
  * enable RANDOMIZE_BASE

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 22 Jun 2020 09:16:01 +0200

linux-librem5 (5.7.0+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.7
  * debian/control: make the 5.7 tree the default kernel
  * librem5_defconfig: Enable support for some USB Ethernet adapters
  * debian: build libc headers package only for linux-librem5

  [ Kyle Evans ]
  * arm64: librem5_defconfig: enable NFS_V4_2 & NFS_SWAP

  [ Sebastian Krzyszkowiak ]
  * librem5_defconfig: Remove CONFIG_RT_GROUP_SCHED

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 02 Jun 2020 19:01:34 +0200

linux-next-librem5 (5.7.0~rc7+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.7-rc7
  * disable UEFI from kernel config
  * only build the linux-image binary package from linux-next-librem5

  [ Sebastian Krzyszkowiak ]
  * librem5_defconfig: Enable CONFIG_SCHED_THERMAL_PRESSURE
  * redpine: Silence PS request messages

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Thu, 28 May 2020 19:58:02 +0200

linux-librem5 (5.6.14+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * include the upstream v5.6.14 stable release

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 25 May 2020 07:49:53 +0200

linux-librem5 (5.6.13+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * debian: add KREL_MAJOR variable to use for text substitutions
  * hack: irqchip: irq-gic-v3: support mainline atf
  * include the upstream v5.6.13 stable release

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 18 May 2020 09:16:26 +0200

linux-next-librem5 (5.7.0~rc6+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.7-rc6
  * arm64: dts: imx8mq-librem5.dts: devicetree cleanups

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 18 May 2020 09:11:45 +0200

linux-next-librem5 (5.7.0~rc5+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.7-rc5

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 11 May 2020 11:28:11 +0200

linux-next-librem5 (5.7.0~rc4+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * rebase the l5 tree onto v5.7-rc4

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 04 May 2020 10:01:25 +0200

linux-librem5 (5.6.10+librem5.1) amber-phone; urgency=medium

  [ Guido Günther ]
  * debian: control.in back in line with control

  [ Martin Kepplinger ]
  * Input: edt-ft5x06 - add fw_version debugfs file to read
  * merge in upstream v5.6.10 stable release
  * imx8mq-librem5.dts cleanups

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 04 May 2020 10:36:09 +0200

linux-librem5 (5.6.5+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * merge in the v5.6.5 stable release

  [ Eric Kuzmenko ]
  * arm64: dts: librem5: Adjust DSE, SRE, and PUE for each I2C bus
  * arm64: dts: librem5: Make I2C1 operate at 387kHz

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Sat, 18 Apr 2020 09:52:06 +0200

linux-librem5 (5.6.0+librem5.2) amber-phone; urgency=medium

  * Make 5.6 the default kernel

 -- Guido Günther <agx@sigxcpu.org>  Thu, 09 Apr 2020 12:54:28 +0200

linux-next-librem5 (5.6.0+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * based everything on the v5.6 mainline release
  * remove USB data role switching (regression on few devices)
  * make sure no librem5-devkit-base 0.0.9 or older is installed
  * debian: package names: increment the ABI version number
    because the userspace ABI changed in the devfreq subsystem

  [ Sebastian Krzyszkowiak ]
  * librem5_defconfig: Enable crypto options required by iwd

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Thu, 02 Apr 2020 19:34:06 +0200

linux-next-librem5 (5.6.0~rc7+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * based everything on the v5.6-rc7 mainline release
  * librem5_defconfig: enable WQ_POWER_EFFICIENT_DEFAULT
  * librem5_defconfig: remove CONFIG_PM_TEST_SUSPEND

  [ Angus Ainslie (Purism) ]
  * arm64: dts: librem5: add gnss stanzas
    (fix regression by Martin)

  [ Sebastian Krzyszkowiak ]
  * librem5_defconfig: Enable WireGuard VPN support
  * arm64: dts: librem5: Mark touchscreen as compatible with edt,edt-ft5506
    (increases available touch points to 10)
  * redpine: Always go into Mimic-UAPSD branch of power management

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Mon, 23 Mar 2020 12:21:54 +0100

linux-next-librem5 (5.6.0~rc6+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * based everything on v5.6-rc6 mainline release

  [ Sebastian Krzyszkowiak ]
  * librem5_defconfig: Enable binfmt_misc support
  * gitlab-ci: Don't accumulate old packages in job artifacts

  [ Guido Günther ]
  * gitlab-ci: Make sure debian/control is current
  * Add README.source
  * Generate debian/control
  * debian: Build meta package when we're building 'linux-librem5'
  * Use a single source package name per branch
  * phy: fsl-imx8-mipi-dphy: Hook into runtime pm

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Tue, 17 Mar 2020 12:18:26 +0100

linux-next-librem5 (5.6.0~rc5+librem5.1) amber-phone; urgency=medium

  [ Martin Kepplinger ]
  * The Librem 5 kernel rebased on v5.6-rc5 which means it includes all
    security updates, bugfixes and new features from the mainline kernel.
    It offers the same functionality for the Librem 5 as the previous
    release, with a few additions:

  [ Guido Günther ]
  * Add support for the whole display stack on newer kernels and keep
    working on integrating it into the mainline.
  * Add HDMI support for the devkit
  * Various Debian packaging and build fixes

  [ Angus Ainslie (Purism) ]
  * Add USB role switching
  * Preliminary support for using the mainline redpine WiFi driver
    This is an extra option for users to try and test. For details, see
    /etc/modprobe.d/librem5-devkit.conf (librem5-devkit-base debian package)
    on your Librem 5.

  [ Martin Kepplinger ]
  * Drop the debian package name postfix -h1
  * Depend on librem5-devkit-base 0.0.9 or newer
  * Support S3 suspend/resume in Linux (ATF and HW-verification is missing)

 -- Martin Kepplinger <martin.kepplinger@puri.sm>  Thu, 12 Mar 2020 08:48:10 +0100

linux-5.3.0-librem5-h1 (5.3.0+librem5.12) amber-phone; urgency=medium

  * drm/etnaviv: Update idle bits.
    Update the state HI and common header from rnndb commit
    commit 19280a95a (rnndb: Update idle bits)
  * drm/etnaviv: Consider all kwnown idle bits in debugfs.
    We were missing out on some bits the vendor kernel driver knows about.
  * drm/etnaviv: Ignore MC when checking runtime suspend idleness.
    Without that runtime suspend is often blocked like
       [ 280.159111] etnaviv-gpu 38000000.gpu: genpd_runtime_suspend()
       ...
    Idle mask is 0x7fffbffe
       ...
       [  418.893082] etnaviv-gpu 38000000.gpu: genpd_runtime_suspend()
    Idle mask flips to 0x7ffffffe, suspend happens:
      [  418.926765] etnaviv-gpu 38000000.gpu: suspend latency exceeded,
                     33667107 ns
      [  418.926862] PM: gpu: Power-off latency exceeded, new value 80280 ns
    This can sometimes be reproduced by hitting CTRL-C in kmscube but it
    also happens during normal operation.
    Tested on GC7000.
  * drm/etnaviv: Warn when GPU doesn't idle fast enough.
    If the GPU isn't idle after signalling pm_runtime_mark_last_busy() plus
    waiting for the autosuspend delay there's likely something wrong with
    the way we check idleness so warn about that.

 -- Guido Günther <agx@sigxcpu.org>  Wed, 04 Mar 2020 09:49:42 +0100

linux-5.3.0-librem5-h1 (5.3.0+librem5.11) amber-phone; urgency=medium

  * arm64: dts: librem5-devkit: Drop opp points.
    They're already set in imx8mq.dtsi
  * arm64: dts: librem5: Add bucket to opp points table.
    Only with that the we can reduce VDD_ARM to 0.9V at runtime
    which helps battery life.

 -- Guido Günther <agx@sigxcpu.org>  Sun, 23 Feb 2020 14:38:17 +0100

linux-5.3.0-librem5-h1 (5.3.0+librem5.10) amber-phone; urgency=medium

  [ Angus Ainslie (Purism) ]
  * arm64: dts: librem5: add the USB 2 phy for otg mode.
    The phy can notify the charge control when it's gone to otg mode.
  * arm64: dts: librem5: Remove duplicate CHG_OTG_EN

  [ Guido Günther ]
  * drm: mxsfb: Don't print error on -EPROBE_DEFER.
    This got people confused.
  * librem5: Drop unused typec connector config.
    The properties there are parsed by the tcpm and wcove drivers
    but currently not by the tps6598x.
  * drm: etnaviv: Enter runtime suspend faster.
    Three frames are enough. Runtime PM moves us to longer
    delays if necessary.
  * arm64: dts: imx8mq-librem5-devkit: Run GPU at 0.9V.
    According to the imx8mq data sheet running VDD_GPU at 0.9V is enough
    when not overclocking to 1GHz (which we currently don't do).
  * arm64: dts: imx8mq-librem5: Run GPU at 0.9V.
    According to the imx8mq data sheet running VDD_GPU at 0.9V is enough
    when not overclocking to 1GHz (which we currently don't do).

  [ Martin Kepplinger ]
  * net: wireless: redpine: fix switch case fall through in mgmt pkt rx
    at least this is how the mainline driver implements this logic.
  * iio: st_lsm6dsx: update driver to mainline version of v5.6
    this simply backports the v5.6 mainline driver to our tree.
  * arm64: dts: librem5/devkit: update accelerometer description
    update the accel/gyro hardware description to use the mainline driver
    and apply the respectively correct mount matrix.

  [ Sebastian Krzyszkowiak ]
  * librem5_defconfig: Enable btrfs, overlayfs and ext4 security support
  * librem5_defconfig: Enable nftables support
  * librem5_defconfig: Enable bunch of options needed by Docker
  * librem5_defconfig: Enable CONFIG_CFG80211_WEXT
  * librem5_defconfig: Enable BPF/cgroup based firewalling.
    This is needed for IP firewalling in systemd
  * librem5_defconfig: Enable CONFIG_NETFILTER_XT_MATCH_COMMENT.
    This is needed by anbox-bridge
  * librem5_defconfig: Enable xattr support and additional compression algos
    for SquashFS
  * librem5_defconfig: Enable more LED triggers
  * librem5_defconfig: Compile heartbeat and gpio LED triggers as modules

  [ Eric Kuzmenko ]
  * Make the dev kit's VSYS_MIN=3.5V, fixes #106

 -- Guido Günther <agx@sigxcpu.org>  Thu, 20 Feb 2020 17:04:12 +0100

linux-5.3.0-librem5-h1 (5.3.0+librem5.9) amber-phone; urgency=medium

  [ Angus Ainslie (Purism) ]
  * arm64: dts: librem5: use the correct interrupt for the charge controller.
    The BQ25895 is on gpio bank 3 io 3 for it's interrupt.
  * arm64: configs: librem5: enable gnss serial drivers.
    The gnss drivers can control the regulator for the gnss chip.
  * arm64: dts: librem5: add gnss stanzas.
    Rename the gps stanzas to gnss.
    Add a gnss regulator to control power for the gnss module.
    Add the gnss node to uart2 and use the regulator.
    Drop rfkill for the gnss gpio.
  * power: supply: bq25890_charger: only report capacity for monitored-battery.
    If there's no monitored battery present the driver should not report
    capacity information.
  * arm64: dts: librem5: Drop monitored battery.
    As the librem5 has a fuel gauge don't use the monitored-battery property.

  [ Sebastian Krzyszkowiak ]
  * CI: Build Debian packages using an arm64 runner.  This makes linux-headers
    package usable on the device for things like dkms.
  * debian/rules: Handle parallel builds

  [ Guido Günther ]
  * gitlab-ci: Use a shallow clone.
    No need to pull all tags, branches and history. This makes cloning take
    1.5 minutes (and even on a loaded system it goes down to 5m while we've
    seen 30m before).
  * arm64: dts: librem5: Drop dcss device tree parts.
    They'll look different for DP out and are just confusing.
  * arm64: dts: librem5: Remove commented out values.
    The're currently configured at the panel.
  * arm64: dts: librem5: Use edge triggered irq for touch.
    The touch controller supports two modes but default seemds to be
    edge. (Closes: #136) and helps #125 and #133

 -- Guido Günther <agx@sigxcpu.org>  Sat, 25 Jan 2020 09:46:28 +0100

linux-5.3.0-librem5-h1 (5.3.0+librem5.8) amber-phone; urgency=medium

  [ Angus Ainslie (Purism) ]
  * arm64: dts: librem5: undo regulator suspend optimizations.
    Allowing some of the regulators to turn of in suspend breaks the power
    button so undo the changes
    Fixes https://source.puri.sm/Librem5/linux-next/issues/109
  * power: supply: max17042_battery: Allow the battery capacity to be set.
    Make PROP_CHARGE_FULL_DESIGN and PROP_CHARGE_FULL writable so that we can
    set the battery capacity from userspace.

  [ Eric Kuzmenko ]
  * Configure NWDOG to fix Rebooting

  [ Guido Günther ]
  * librem5: Fix tps65982 IRQ configuration.
    Enable LVTTL and pull up since otherwise the level low IRQ is always
    detected as firering. (Closes: #134)

 -- Guido Günther <agx@sigxcpu.org>  Tue, 07 Jan 2020 10:08:43 +0100

linux-5.3.0-librem5-h1 (5.3.0+librem5.7) amber-phone; urgency=medium

  [ Guido Günther ]
  * librem5: Set maximum led current
  * leds: lm3692x: Make sure we don't exceed the maximum led current.
    The current is given by the formular from page 12 of
    https://www.ti.com/lit/ds/symlink/lm36922.pdf. We use this to limit the
    max_brightness property using the led-max-microamp property.
  * leds: lm3692x: Drop led current hack.
    The previous patch introduced a proper calcultion from DT.
    Partially reverts 9aef2ef5de497d5fa633a6ac22a966713ee12293.
    The rest was already reverted when switching to DT parsing
    for OVP.
  * leds: ledtrig-backlight: Properly pass on max_brightness property.
    We had that hardcoded to LED_FULL (which did not matter until
    now).
  * usb: tps6598x: Export some power supply properties
    This unbreaks charger detection.

  [ Sebastian Krzyszkowiak ]
  * redpine: Handle PN number properly to avoid dropping of packets.
    Imported patch from Redpine

 -- Guido Günther <agx@sigxcpu.org>  Fri, 03 Jan 2020 21:43:48 +0100

linux-5.3.0-librem5-h1 (5.3.0+librem5.6) amber-phone; urgency=medium

  [ Guido Günther ]
  * leds: lm3692x: turn off regulator when brightness goes to 0.
    This saves additional power and makes sure it's really off.
  * librem5: compile in power key.
    Eases testing and we have it on all boards anyway.
  * rtc: m41t80: Clear oscillator fault bit during probe.
    This make sure we don't read a bad value later on.
  * librem5: Disable imx8mq's rtc.
    This makes sure the system uses the right one.
  * d/control: Clarify package description
  * iio: light: vcnl4000: Fix integration interval for vcnl4040.
    According to the data sheet it's 0.12 lux/step, not 0.024 lux/step as
    with the vcnl4200.
    See p. 8 in https://www.vishay.com/docs/84307/designingvcnl4040.pdf

  [ Sebastian Krzyszkowiak ]
  * librem5: Enable hidraw and uhid

 -- Guido Günther <agx@sigxcpu.org>  Tue, 24 Dec 2019 15:09:34 +0100

linux-5.3.0-librem5-h1 (5.3.0+librem5.5) amber-phone; urgency=medium

  [ Guido Günther ]
  * librem5: Restrict dmesg access.
    This brings us in line with modern distros
  * Librem5: Enable tmpfs ACLs.
    This avoids having to add the `purism` user to lots of groups since
    logind can do it's job
  * librem5: Use exponential brightness mapping

  [ Martin Kepplinger ]
  * thermal: cpu_cooling: remove set_freezable() when suspend not implemented.
    The cpu_cooling driver prevents system suspend due to one hung task per
    cpu. This is because it is "set freezable" by accident. That's a bug.
    Note: In newer kernels, this issue goes away because of a different
    implementation altogether and system suspend will work there.

 -- Guido Günther <agx@sigxcpu.org>  Wed, 18 Dec 2019 15:15:06 +0100

linux-5.3.0-librem5-h1 (5.3.0+librem5.4) amber-phone; urgency=medium

  [ Guido Günther ]
  * Librem5: Round trip defconfig to reduce noise
  * Librem5: Enable apparmor.
    This was enabled before but got list. See
    https://source.puri.sm/Librem5/linux-next/merge_requests/17
  * gitlab-ci: Build a kernel deb as well.
    We add the current topmost commit to the changelog and add +gitlabci1 to
    the version number so it becomes easy to identify.
  * d/control: Add missing build-deps.
    This allows us to build in a clean environment.
  * drm: panel: mantix: Speed up display init.
    Use a timeout value closer to the data sheet rather than
    the vendor code. This saves off almost a second.

  [ Angus Ainslie (Purism) ]
  * arm64: dts: librem5-devkit: increase the VBUS current in the kernel.
    The poly fuses can handle 6V 4Amps so incease the kernel limts to 5V
    3.5Amps.
  * arm64: dts: librem5: update the PD power settings.
    Increase the limts in kernel for power delivery

 -- Guido Günther <agx@sigxcpu.org>  Fri, 13 Dec 2019 21:42:00 +0100

linux-5.3.0-librem5-h1 (5.3.0+librem5.3) amber-phone; urgency=medium

  * debian: Add gbp.conf.
    This simplifies tagging and changelog generation
  * debian: Use kernel team as maintainer address.
    Set uploaders to the individual team members, sorted alphabetically.
  * d/control: Fix indentation
  * d/control: Add depends.
    We have these in the base system but let's not rely on that.
  * d/control: Sort build-deps
  * debian: Add kernel meta package.
    This is simpler than having to update the librem5-base pacakge
    as well.

 -- Guido Günther <agx@sigxcpu.org>  Sun, 08 Dec 2019 14:18:13 +0100

linux-5.3.0-librem5-h1 (5.3.0+librem5.2) amber-phone; urgency=medium

  [ Angus Ainslie (Purism) ]
  * arm64: dts: librem5: allow the 25MHz DDR clock.  As we're using the
    userspace govenor to set the devfreq allow 25MHz for testing
  * sound: codec: gtm601: the BM818 uses stereo channels
  * arm64: dts: librem5: set the correct sai6 <-> BM818 parameters

  [ Guido Günther ]
  * Revert "HACK etnaviv: allow to have relocs for BOs as well"
    We have per process address spaces/softpin now.
    This reverts commit e796f766041e1d91217dfb3044caddc6925826cf.

 -- Guido Günther <agx@sigxcpu.org>  Sat, 07 Dec 2019 18:51:24 +0100

linux-5.3.0-librem5-h1 (5.3.0+librem5.1) amber-phone; urgency=low

  * Initial release of the Librem 5 kernel

 -- Guido Günther <agx@sigxcpu.org>  Fri, 29 Nov 2019 20:37:46 +0100
